🌾 KrishiSetu - Component Architecture Diagram
================================================================

┌─────────────────────────────────────────────────────────────────────────────────┐
│                              USER INTERFACE LAYER                              │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   Mobile    │  │    Web      │  │   Voice     │  │   SMS/USSD  │          │
│  │    App      │  │  Interface  │  │ Interface   │  │  Interface  │          │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘          │
│         │                │                │                │                  │
│         └────────────────┼────────────────┼────────────────┘                  │
│                          │                │                                   │
└──────────────────────────┼────────────────┼───────────────────────────────────┘
                           │                │
                           ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              API LAYER (FastAPI)                               │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   REST API  │  │  Request    │  │  Response   │  │   CORS      │          │
│  │ Endpoints   │  │ Validation  │  │  Models     │  │ Middleware  │          │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘          │
│         │                                                                    │
│         ▼                                                                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   Query     │  │  Language   │  │   Agent     │  │   Health    │          │
│  │ Processor   │  │ Processor   │  │  Router     │  │   Check     │          │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘          │
│         │                │                │                                   │
└─────────┼────────────────┼────────────────┼───────────────────────────────────┘
          │                │                │
          ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           CORE AI LAYER (CrewAI)                               │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                        Agricultural Crew                                   │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐      │ │
│  │  │   Task      │  │   Agent     │  │  Response   │  │ Confidence  │      │ │
│  │  │ Manager     │  │ Coordinator │  │ Synthesis   │  │  Scoring    │      │ │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘      │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                             │
│                                    ▼                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   Weather   │  │    Crop     │  │   Finance   │  │   Base      │          │
│  │   Agent     │  │   Agent     │  │   Agent     │  │   Agent     │          │
│  │             │  │             │  │             │  │             │          │
│  │ • Weather   │  │ • Crop      │  │ • Loans     │  │ • Common    │          │
│  │   Analysis  │  │   Selection │  │ • Schemes   │  │   Tools     │          │
│  │ • Irrigation│  │ • Market    │  │ • Insurance │  │ • LLM       │          │
│  │   Advice    │  │   Prices    │  │ • Trends    │  │   Integration│          │
│  │ • Forecast  │  │ • Calendar  │  │ • Eligibility│  │ • Validation│          │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘          │
│         │                │                │                │                  │
└─────────┼────────────────┼────────────────┼────────────────┼──────────────────┘
          │                │                │                │
          ▼                ▼                ▼                ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              DATA LAYER                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │   MCP       │  │  Database   │  │  External   │  │  Config     │          │
│  │  Client     │  │  Models     │  │   APIs      │  │ Management  │          │
│  │             │  │             │  │             │  │             │          │
│  │ • Weather   │  │ • User      │  │ • OpenWeather│  │ • API Keys  │          │
│  │   Data      │  │ • Query     │  │   Map       │  │ • Database  │          │
│  │ • Market    │  │ • Weather   │  │ • Government│  │   Settings  │          │
│  │   Data      │  │ • Crop      │  │   Data      │  │ • Languages │          │
│  │ • Policy    │  │ • Policy    │  │ • Market    │  │ • Constants │          │
│  │   Data      │  │ • History   │  │   APIs      │  │             │          │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘          │
│         │                │                │                │                  │
│         └────────────────┼────────────────┼────────────────┘                  │
│                          │                                                   │
│                          ▼                                                   │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │  SQLite     │  │  SQLAlchemy │  │  Data       │  │  Cache      │          │
│  │  Database   │  │    ORM      │  │  Validation │  │  Layer      │          │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘          │
└─────────────────────────────────────────────────────────────────────────────────┘

================================================================
                           DATA FLOW
================================================================

1. USER INPUT → API LAYER
   └── Natural language query (multilingual)
   └── Context information (location, crop, farmer type)

2. API LAYER → CORE AI LAYER
   └── Language processing and classification
   └── Agent selection and routing

3. CORE AI LAYER → DATA LAYER
   └── MCP client fetches external data
   └── Database queries for historical data

4. DATA LAYER → CORE AI LAYER
   └── Real-time weather data
   └── Market prices and trends
   └── Government schemes and policies

5. CORE AI LAYER → API LAYER
   └── Synthesized recommendations
   └── Confidence scores
   └── Structured response

6. API LAYER → USER
   └── JSON response with agricultural advice
   └── Multilingual output
   └── Actionable recommendations

================================================================
                        KEY FEATURES
================================================================

✅ Multi-Agent Architecture (CrewAI)
✅ Multilingual Support (10 Indian Languages)
✅ Real-time Data Integration (MCP)
✅ Weather Analysis & Irrigation Advice
✅ Crop Selection & Management
✅ Financial Advisory & Government Schemes
✅ Context-Aware Processing
✅ Confidence Scoring
✅ Extensible Design
✅ RESTful API Interface

================================================================ 